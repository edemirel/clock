<!DOCTYPE html>
<html>
<head>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script>

function startTime() {
	var today = new Date();
	var h = today.getHours();
	// var m = today.getMinutes();
	var m = 0;
	if (m === 0) {
		ctt0(h, m);
	} else if (m > 0 && m < 15) {
		ctt1(h, m);
	} else if (m === 15) {
		ctt2(h, m);
	} else if (m > 15 && m < 30) {
		ctt3(h, m);
	} else if (m === 30) {
		ctt4(h, m);
	} else if (m > 30 && m < 45) {
		ctt5(h, m);
	} else if (m === 45) {
		ctt6(h, m);
	} else if (m > 45 && m <= 49) {
		ctt7(h, m);
	} else if (m >= 50 && m <= 59) {
		ctt8(h, m);
	}
}

function fetchText(word, block) {
	$.getJSON("js/"+word+".json", function(json) {
		var rand = Math.floor(Math.random() * json.length);
		document.getElementById(block).innerHTML = json[rand];
	});
}

function ctt0(hour, minute) {
	var itisX = Math.random();
	if (itisX >= 0.5) {
		fetchText("the time is", "itis");
	} else {
		fetchText("it is", "itis");
	}

	if (hour === 0) {
		fetchText("midnight", "blk1");	
	}
	else if (hour === 12) {
		fetchText("noon", "blk1");
	}
	else {
		if (hour > 12) {
			var hr = hour - 12;
		} else {
			var hr = hour;
		}
		fetchText(hr, "blk1");
	}

	if (hour != 0 && hour != 12) {
		fetchText("o\'clock", "blk2");

		if (hour < 12) {
			fetchText("in the morning", "blk3");
		} 
		else if (hour > 16) {
			fetchText("in the evening", "blk3");
		}
		else {
			fetchText("in the afternoon", "blk3");
		}
	}
}


</script>

<style>

.clocktext {
	color: red;
}

</style>

</head>
<body onload="startTime()">

<div id="itis"></div>
<div id="blk1"></div>
<div id="blk2"></div>
<div id="blk3"></div>
<div id="blk4"></div>
<div id="blk5"></div>
<div id="blk6"></div>


</body>
</html>